
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>JUNGGU 득표율 비교</title>
  <link href="https://fonts.googleapis.com/css2?family=Pretendard&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Pretendard', sans-serif;
      background: #f8fafd;
      color: #222;
      line-height: 1.6;
    }
    .topbar {
      background: #e0f2ff;
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
    }
    .topbar a {
      color: #007acc;
      text-decoration: none;
    }
    header {
      padding: 2rem 1rem 1.5rem;
      text-align: center;
      background: white;
      border-bottom: 1px solid #e0e0e0;
    }
    header h1 {
      font-size: 1.4rem;
      color: #007acc;
      margin-bottom: 0.5rem;
    }
    header h2 {
      font-size: 1rem;
      font-weight: 400;
      color: #555;
    }
    .region-nav {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 0.4rem;
      padding: 1rem;
      background: #f0faff;
      border-top: 1px solid #e2f2ff;
      border-bottom: 1px solid #e2f2ff;
    }
    .region-nav a {
      padding: 0.3rem 0.8rem;
      background: #ffffff;
      border: 1px solid #b2dcff;
      color: #007acc;
      text-decoration: none;
      font-size: 0.9rem;
      border-radius: 999px;
      transition: all 0.2s;
    }
    .region-nav a:hover {
      background: #007acc;
      color: white;
    }
    #map {
      height: 60vh;
      width: 90vw;
      margin: 2rem auto;
      border-radius: 20px;
      box-shadow: 0 0 15px rgba(0,0,0,0.08);
    }
    .ranking-table {
      width: 90vw;
      margin: 1rem auto 4rem;
      border-collapse: collapse;
      background: white;
      font-size: 0.95rem;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 0 8px rgba(0,0,0,0.05);
    }
    .ranking-table th, .ranking-table td {
      padding: 0.8rem;
      text-align: center;
    }
    .ranking-table th {
      background: #e6f4ff;
    }
    .ranking-table tr:hover {
      background: #f2fbff;
    }
    footer { background: #ffffff;
      text-align: center;
      font-size: 0.8rem;
      color: #888;
      padding: 2rem;
      border-top: 1px solid #eee;
      background: #f9fcfe;
    }
  
    #kakao-share-btn{
      position: fixed;
      bottom: 24px;
      right: 24px;
      z-index: 999;
      background: #FEE500;
      border: none;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      box-shadow: 0 4px 10px rgba(0,0,0,.25);
      cursor: pointer;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    #kakao-share-btn img{
      width:28px;
      height:28px;
    }
</style>

  <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
  <script>
    Kakao.init('37ea916b7f1ab457b58119c60ec4052a');
    function shareKakao() {
      Kakao.Link.sendDefault({
        objectType: 'feed',
        content: {
          title: '대구 득표율 비교',
          description: '19대·20대 대구지역 더불어민주당 득표율 한눈에 보기',
          imageUrl: 'https://theminjoodaegu.co.kr/share_thumb.png',
          link: { mobileWebUrl: 'https://theminjoodaegu.co.kr/', webUrl: 'https://theminjoodaegu.co.kr/' }
        },
        buttons: [{ title: '보러가기', link: { mobileWebUrl: 'https://theminjoodaegu.co.kr/', webUrl: 'https://theminjoodaegu.co.kr/' } }]
      });
    }
  </script>
</head>
<body>
  <button id="kakao-share-btn" onclick="shareKakao()" title="카카오톡으로 공유">
    <img src="https://developers.kakao.com/assets/img/about/logos/kakaotalksharing/kakaotalk_sharing_btn_small.png" alt="Kakao Share"/>
  </button>

  <div class="topbar">
<a href="https://bluenew.life">← 메인페이지로 돌아가기</a>
  </div>

    <header>
    <h2>19대, 20대 대통령 선거</h2>
    <h1>대구지역 더불어민주당 득표율 비교</h1>
  </header>

  <div class="region-nav">
    <a href="index.html">전체</a><a href="junggu.html">중구</a><a href="donggu.html">동구</a><a href="seogu.html">서구</a><a href="namgu.html">남구</a><a href="bukgu.html">북구</a><a href="suseonggu.html">수성구</a><a href="dalseogu.html">달서구</a><a href="dalseonggun.html">달성군</a>
  </div>


  
<style>
.maptab {
  display: flex;
  justify-content: center;
  margin-top: 1.5rem;
  gap: 0.5rem;
}
.maptab button {
  background: #e0f2ff;
  border: 1px solid #a8d3f3;
  padding: 0.4rem 1.2rem;
  font-size: 0.9rem;
  border-radius: 999px;
  cursor: pointer;
  transition: 0.2s;
}
.maptab button.on {
  background: #007acc;
  color: white;
  font-weight: bold;
}


    /* 푸터 */
    footer {
      margin-top: 40px;
      text-align: center;
    }
    footer img {
      width: 150px;
      height: auto;
    }

    


</style>

    <div class="maptab">
      <button class="on" onclick="showMap('19')" data-view="19">19대</button>
      <button onclick="showMap('20')" data-view="20" class="on">20대</button>
    </div>
    <div id="map"></div>
    

  <table class="ranking-table">
    <thead>
      <tr><th>순위</th><th>행정동</th><th>득표율</th></tr>
    </thead>
    <tbody id="ranking-body"></tbody>
  </table>


  <footer>
    <a href="https://theminjoodaegu.co.kr/" target="_blank">
      <img src="150_png_dgsd_logo.png" alt="더불어민주당 대구광역시당 로고">
    </a>
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
<script>const geo_19 = {"type": "FeatureCollection", "features": [{"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[128.59981147034233, 35.86827404494617], [128.6025209366928, 35.867658484495436], [128.61317315398796, 35.86548347049956], [128.60961606927276, 35.861841880602945], [128.60029226446056, 35.86369425086482], [128.59999180678676, 35.86375392708423], [128.60005150168956, 35.86394988318623], [128.59967123354434, 35.86418386722333], [128.59866057509242, 35.86462785790777], [128.59778313443206, 35.864960098484836], [128.59772547439331, 35.86497984670333], [128.59754039248406, 35.86512029008691], [128.597186156744, 35.865389088431805], [128.5952997837392, 35.86716631857702], [128.5954390303595, 35.868344584331474], [128.59938819202057, 35.86835692344969], [128.5995697245268, 35.868321646269855], [128.59981147034233, 35.86827404494617]]]}, "properties": {"adm_nm": "중구 삼덕동", "color19": "rgb(50, 50, 255)", "rate19": 26.7}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[128.60136171435073, 35.87480494604066], [128.59981147034233, 35.86827404494617], [128.5995697245268, 35.868321646269855], [128.59938819202057, 35.86835692344969], [128.5954390303595, 35.868344584331474], [128.5952997837392, 35.86716631857702], [128.597186156744, 35.865389088431805], [128.59754039248406, 35.86512029008691], [128.59772547439331, 35.86497984670333], [128.59778313443206, 35.864960098484836], [128.59866057509242, 35.86462785790777], [128.59967123354434, 35.86418386722333], [128.60005150168956, 35.86394988318623], [128.59999180678676, 35.86375392708423], [128.60073088698059, 35.860498153133385], [128.59645346200725, 35.86003198419164], [128.59643612128937, 35.8600637269212], [128.59617103569286, 35.86057900833798], [128.5960699090724, 35.860785537922276], [128.5959644259569, 35.86100099296915], [128.59595246223435, 35.86102543800594], [128.5957472933539, 35.861578492775045], [128.59479889389266, 35.86429424099944], [128.59346729283766, 35.86612140526101], [128.59365520973202, 35.869901289730045], [128.59407497386147, 35.87205880405247], [128.59494637524298, 35.87529774535282], [128.5991411135269, 35.87546406962741], [128.60136171435073, 35.87480494604066]]]}, "properties": {"adm_nm": "중구 성내1동", "color19": "rgb(101, 101, 255)", "rate19": 23.24}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[128.59494637524298, 35.87529774535282], [128.59407497386147, 35.87205880405247], [128.59365520973202, 35.869901289730045], [128.59346729283766, 35.86612140526101], [128.59239056064428, 35.866296874478266], [128.59086183058736, 35.86610783552169], [128.5894635688341, 35.86636635045507], [128.58835962031208, 35.866570433296516], [128.5879320583128, 35.866649471419755], [128.58784730299269, 35.866665134608226], [128.58777033973809, 35.86664165794147], [128.58696338651325, 35.86638945191782], [128.58235034174163, 35.86514618403004], [128.5826091747158, 35.87059374299798], [128.58515530564048, 35.870520350503575], [128.58724705539385, 35.87006338448009], [128.58726199850804, 35.87018172537615], [128.5872734950472, 35.870272776510646], [128.58787391608374, 35.87567046374412], [128.58837879477232, 35.877525407670596], [128.59491665007616, 35.876309776132445], [128.59494637524298, 35.87529774535282]]]}, "properties": {"adm_nm": "중구 성내2동", "color19": "rgb(172, 172, 255)", "rate19": 18.44}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[128.58017175330784, 35.87907855152338], [128.58837879477232, 35.877525407670596], [128.58787391608374, 35.87567046374412], [128.5872734950472, 35.870272776510646], [128.58726199850804, 35.87018172537615], [128.58724705539385, 35.87006338448009], [128.58515530564048, 35.870520350503575], [128.5826091747158, 35.87059374299798], [128.5823870485221, 35.87080589006497], [128.58210924962873, 35.87340897350311], [128.58021207206477, 35.87369423316664], [128.58011287528075, 35.87361597069433], [128.57999793213807, 35.873525269309646], [128.57971053685634, 35.87316412105774], [128.57957950138763, 35.87297923067012], [128.57954934424149, 35.872830719477086], [128.57953764487686, 35.87277308853001], [128.57937180589877, 35.872654532139904], [128.5792711103369, 35.8725911338574], [128.57891324748982, 35.87237796008176], [128.577928506664, 35.87204130850304], [128.57697441020116, 35.87196383673628], [128.57681124161078, 35.871963137626395], [128.57566174791862, 35.87304483127606], [128.57562564318513, 35.873091684273135], [128.57559141261393, 35.873431736805266], [128.57558754739932, 35.87347013834238], [128.57559607906484, 35.874045067242854], [128.57665285702348, 35.87605536016388], [128.57686465738666, 35.87622899484495], [128.57694023928968, 35.876187852358946], [128.57806019868906, 35.87557827809209], [128.57846664460521, 35.875357064323936], [128.57930566846227, 35.87532781665804], [128.57839059434426, 35.87623925001616], [128.57794370112424, 35.879495728931886], [128.58017175330784, 35.87907855152338]]]}, "properties": {"adm_nm": "중구 성내3동", "color19": "rgb(215, 215, 255)", "rate19": 15.55}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[128.5826091747158, 35.87059374299798], [128.58235034174163, 35.86514618403004], [128.58172166692066, 35.86476194105173], [128.57420447635695, 35.862684185324916], [128.5740568187324, 35.86366638743661], [128.57380307624703, 35.86535421310549], [128.57498294008764, 35.86632477831046], [128.57505420191418, 35.86637532239469], [128.57564144482294, 35.866790264797956], [128.57615060496138, 35.867126779812], [128.5777227208769, 35.8681810371038], [128.5777842584167, 35.86822279718325], [128.5785390836085, 35.86883129809055], [128.57882744620164, 35.86908088771724], [128.57960219092143, 35.87004715865636], [128.5796515008015, 35.87012889387297], [128.57971670360115, 35.870312110433616], [128.5793790076799, 35.8704673571956], [128.57953764487686, 35.87277308853001], [128.57954934424149, 35.872830719477086], [128.57957950138763, 35.87297923067012], [128.57971053685634, 35.87316412105774], [128.57999793213807, 35.873525269309646], [128.58011287528075, 35.87361597069433], [128.58021207206477, 35.87369423316664], [128.58210924962873, 35.87340897350311], [128.5823870485221, 35.87080589006497], [128.5826091747158, 35.87059374299798]]]}, "properties": {"adm_nm": "중구 대신동", "color19": "rgb(122, 122, 255)", "rate19": 21.85}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[128.59346729283766, 35.86612140526101], [128.59479889389266, 35.86429424099944], [128.5957472933539, 35.861578492775045], [128.59595246223435, 35.86102543800594], [128.5959644259569, 35.86100099296915], [128.5960699090724, 35.860785537922276], [128.59617103569286, 35.86057900833798], [128.59643612128937, 35.8600637269212], [128.59645346200725, 35.86003198419164], [128.59676539328953, 35.85946085808326], [128.5969268626459, 35.85910612431195], [128.59552932342203, 35.858540444350886], [128.59518872689443, 35.85848025459207], [128.59472570324195, 35.85841117396267], [128.59467331177078, 35.856578054560025], [128.5877853047037, 35.85674549545296], [128.59038154836585, 35.86203659193966], [128.59052434033154, 35.86198510756678], [128.5908375432381, 35.86188420725321], [128.59236929136836, 35.8613926693576], [128.5926931446457, 35.86128874452146], [128.5927396670197, 35.86142552037701], [128.59327201515217, 35.86303652975329], [128.59368783082604, 35.86499532200107], [128.5935409775957, 35.86533486215346], [128.59326549026687, 35.865394053593704], [128.59273876874718, 35.86541556373389], [128.59240878591362, 35.865469687178965], [128.59100795386004, 35.86571273467407], [128.59076193570348, 35.86575651099882], [128.59086183058736, 35.86610783552169], [128.59239056064428, 35.866296874478266], [128.59346729283766, 35.86612140526101]]]}, "properties": {"adm_nm": "중구 남산1동", "color19": "rgb(144, 144, 255)", "rate19": 20.33}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[128.59086183058736, 35.86610783552169], [128.59076193570348, 35.86575651099882], [128.59100795386004, 35.86571273467407], [128.59240878591362, 35.865469687178965], [128.59273876874718, 35.86541556373389], [128.59326549026687, 35.865394053593704], [128.5935409775957, 35.86533486215346], [128.59368783082604, 35.86499532200107], [128.59327201515217, 35.86303652975329], [128.5927396670197, 35.86142552037701], [128.5926931446457, 35.86128874452146], [128.59236929136836, 35.8613926693576], [128.5908375432381, 35.86188420725321], [128.59052434033154, 35.86198510756678], [128.59038154836585, 35.86203659193966], [128.58695604718596, 35.86337726236259], [128.5824900877616, 35.86220635712658], [128.58172166692066, 35.86476194105173], [128.58235034174163, 35.86514618403004], [128.58696338651325, 35.86638945191782], [128.58777033973809, 35.86664165794147], [128.58784730299269, 35.866665134608226], [128.5879320583128, 35.866649471419755], [128.58835962031208, 35.866570433296516], [128.5894635688341, 35.86636635045507], [128.59086183058736, 35.86610783552169]]]}, "properties": {"adm_nm": "중구 남산2동", "color19": "rgb(174, 174, 255)", "rate19": 18.33}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[128.59038154836585, 35.86203659193966], [128.5877853047037, 35.85674549545296], [128.58423096814232, 35.85642871938986], [128.58285924279392, 35.856328027503956], [128.5824900877616, 35.86220635712658], [128.58695604718596, 35.86337726236259], [128.59038154836585, 35.86203659193966]]]}, "properties": {"adm_nm": "중구 남산3동", "color19": "rgb(89, 89, 255)", "rate19": 24.1}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[128.5824900877616, 35.86220635712658], [128.58285924279392, 35.856328027503956], [128.5745839364292, 35.86005798818943], [128.57420447635695, 35.862684185324916], [128.58172166692066, 35.86476194105173], [128.5824900877616, 35.86220635712658]]]}, "properties": {"adm_nm": "중구 남산4동", "color19": "rgb(155, 155, 255)", "rate19": 19.64}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[128.60961606927276, 35.861841880602945], [128.6091362333196, 35.86143239387278], [128.60898730401638, 35.861305286303285], [128.60844630322018, 35.859905339108806], [128.60838615761935, 35.85974968848293], [128.6082271421476, 35.85826187380285], [128.6081539703449, 35.857577144951634], [128.60846740347904, 35.85494815655784], [128.60244706937632, 35.855273024992144], [128.60097577360452, 35.85984520797234], [128.60073088698059, 35.860498153133385], [128.59999180678676, 35.86375392708423], [128.60029226446056, 35.86369425086482], [128.60961606927276, 35.861841880602945]]]}, "properties": {"adm_nm": "중구 대봉1동", "color19": "rgb(146, 146, 255)", "rate19": 20.22}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[128.60244706937632, 35.855273024992144], [128.60004214536164, 35.85541223809458], [128.59874763512337, 35.855487160061514], [128.59853902409867, 35.85549923646253], [128.59840165327142, 35.855562194584216], [128.59820471882185, 35.85565470935355], [128.5979102694981, 35.855804461814515], [128.5978720950326, 35.855823876936284], [128.59763761289264, 35.85596498378271], [128.59750001349937, 35.8560477854852], [128.59707246144228, 35.856243495452624], [128.59692641453074, 35.85627888557589], [128.5968953099351, 35.85628642264913], [128.59662744369513, 35.856351329242415], [128.5959594973939, 35.85645109861887], [128.59588640067395, 35.856462013486635], [128.59471695268647, 35.85657345472159], [128.59467331177078, 35.856578054560025], [128.59472570324195, 35.85841117396267], [128.59518872689443, 35.85848025459207], [128.59552932342203, 35.858540444350886], [128.5969268626459, 35.85910612431195], [128.59676539328953, 35.85946085808326], [128.59645346200725, 35.86003198419164], [128.60073088698059, 35.860498153133385], [128.60097577360452, 35.85984520797234], [128.60244706937632, 35.855273024992144]]]}, "properties": {"adm_nm": "중구 대봉2동", "color19": "rgb(173, 173, 255)", "rate19": 18.4}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[128.61474379396603, 35.86817787771339], [128.6145687241592, 35.86795873084202], [128.61317315398796, 35.86548347049956], [128.6025209366928, 35.867658484495436], [128.59981147034233, 35.86827404494617], [128.60136171435073, 35.87480494604066], [128.60150705186726, 35.874651289239324], [128.60347991538873, 35.87408354103706], [128.60445139526493, 35.87391187973852], [128.60584850128683, 35.87384636073259], [128.6061733915107, 35.87383112239122], [128.6075654595083, 35.87405484131157], [128.60968725744632, 35.87463094188589], [128.6103234899718, 35.874896028820494], [128.6120085185286, 35.87378462294417], [128.61474379396603, 35.86817787771339]]]}, "properties": {"adm_nm": "중구 동인동", "color19": "rgb(158, 158, 255)", "rate19": 19.39}}]};</script>
<script>const geo_20 = {"type": "FeatureCollection", "features": [{"type": "Feature", "geometry": {"type": "MultiPolygon", "coordinates": [[[[128.59981147034233, 35.86827404494616], [128.6025209366928, 35.867658484495436], [128.61317315398796, 35.86548347049956], [128.6096160692728, 35.86184188060294], [128.60029226446056, 35.863694250864825], [128.59999180678676, 35.86375392708425], [128.60005150168956, 35.86394988318623], [128.59967123354437, 35.86418386722333], [128.59866057509242, 35.864627857907784], [128.59778313443206, 35.864960098484836], [128.59772547439331, 35.86497984670333], [128.59754039248406, 35.86512029008691], [128.597186156744, 35.865389088431805], [128.5952997837392, 35.86716631857702], [128.5954390303595, 35.86834458433147], [128.59938819202057, 35.86835692344969], [128.5995697245268, 35.86832164626987], [128.59981147034233, 35.86827404494616]]]]}, "properties": {"adm_nm": "중구 삼덕동", "color20": "rgb(123, 123, 255)", "rate20": 2422.17}}, {"type": "Feature", "geometry": {"type": "MultiPolygon", "coordinates": [[[[128.60136171435073, 35.87480494604066], [128.59981147034233, 35.86827404494616], [128.5995697245268, 35.86832164626987], [128.59938819202057, 35.86835692344969], [128.5954390303595, 35.86834458433147], [128.5952997837392, 35.86716631857702], [128.597186156744, 35.865389088431805], [128.59754039248406, 35.86512029008691], [128.59772547439331, 35.86497984670333], [128.59778313443206, 35.864960098484836], [128.59866057509242, 35.864627857907784], [128.59967123354437, 35.86418386722333], [128.60005150168956, 35.86394988318623], [128.59999180678676, 35.86375392708425], [128.60073088698059, 35.860498153133385], [128.59645346200725, 35.86003198419164], [128.59643612128934, 35.86006372692119], [128.59617103569286, 35.860579008337986], [128.5960699090724, 35.86078553792228], [128.5959644259569, 35.861000992969146], [128.59595246223435, 35.861025438005946], [128.5957472933539, 35.86157849277505], [128.59479889389266, 35.86429424099944], [128.59346729283766, 35.866121405261], [128.59365520973202, 35.86990128973005], [128.59407497386147, 35.87205880405248], [128.59494637524298, 35.875297745352825], [128.5991411135269, 35.87546406962741], [128.60136171435073, 35.87480494604066]]]]}, "properties": {"adm_nm": "중구 성내1동", "color20": "rgb(143, 143, 255)", "rate20": 2266.51}}, {"type": "Feature", "geometry": {"type": "MultiPolygon", "coordinates": [[[[128.59494637524298, 35.875297745352825], [128.59407497386147, 35.87205880405248], [128.59365520973202, 35.86990128973005], [128.59346729283766, 35.866121405261], [128.59239056064428, 35.86629687447827], [128.59086183058736, 35.86610783552169], [128.5894635688341, 35.86636635045508], [128.58835962031208, 35.86657043329652], [128.5879320583128, 35.866649471419755], [128.58784730299269, 35.866665134608226], [128.58777033973809, 35.86664165794147], [128.58696338651328, 35.86638945191782], [128.58235034174163, 35.865146184030046], [128.5826091747158, 35.870593742997976], [128.58515530564048, 35.87052035050358], [128.58724705539385, 35.8700633844801], [128.58726199850804, 35.87018172537615], [128.5872734950472, 35.87027277651064], [128.58787391608374, 35.87567046374412], [128.58837879477232, 35.8775254076706], [128.59491665007616, 35.876309776132445], [128.59494637524298, 35.875297745352825]]]]}, "properties": {"adm_nm": "중구 성내2동", "color20": "rgb(176, 176, 255)", "rate20": 2020.09}}, {"type": "Feature", "geometry": {"type": "MultiPolygon", "coordinates": [[[[128.58017175330784, 35.87907855152338], [128.58837879477232, 35.8775254076706], [128.58787391608374, 35.87567046374412], [128.5872734950472, 35.87027277651064], [128.58726199850804, 35.87018172537615], [128.58724705539385, 35.8700633844801], [128.58515530564048, 35.87052035050358], [128.5826091747158, 35.870593742997976], [128.5823870485221, 35.87080589006498], [128.58210924962873, 35.8734089735031], [128.58021207206477, 35.87369423316664], [128.58011287528075, 35.87361597069433], [128.57999793213807, 35.873525269309646], [128.57971053685634, 35.87316412105774], [128.57957950138763, 35.87297923067011], [128.57954934424149, 35.87283071947707], [128.57953764487686, 35.87277308853002], [128.57937180589877, 35.872654532139904], [128.5792711103369, 35.872591133857405], [128.57891324748982, 35.87237796008176], [128.577928506664, 35.87204130850304], [128.57697441020116, 35.87196383673627], [128.57681124161078, 35.8719631376264], [128.57566174791862, 35.87304483127607], [128.57562564318513, 35.87309168427314], [128.57559141261393, 35.87343173680526], [128.57558754739932, 35.87347013834237], [128.57559607906484, 35.87404506724287], [128.57665285702345, 35.87605536016389], [128.57686465738666, 35.87622899484495], [128.57694023928968, 35.876187852358946], [128.57806019868906, 35.8755782780921], [128.57846664460521, 35.87535706432394], [128.5793056684623, 35.87532781665804], [128.57839059434426, 35.87623925001616], [128.57794370112424, 35.87949572893189], [128.58017175330784, 35.87907855152338]]]]}, "properties": {"adm_nm": "중구 성내3동", "color20": "rgb(171, 171, 255)", "rate20": 2052.43}}, {"type": "Feature", "geometry": {"type": "MultiPolygon", "coordinates": [[[[128.5826091747158, 35.870593742997976], [128.58235034174163, 35.865146184030046], [128.58172166692066, 35.86476194105173], [128.57420447635695, 35.86268418532492], [128.5740568187324, 35.863666387436616], [128.57380307624703, 35.86535421310548], [128.57498294008764, 35.866324778310464], [128.57505420191416, 35.86637532239469], [128.57564144482294, 35.86679026479795], [128.5761506049614, 35.867126779812004], [128.57772272087686, 35.868181037103795], [128.5777842584167, 35.86822279718326], [128.5785390836085, 35.868831298090555], [128.57882744620164, 35.86908088771724], [128.57960219092143, 35.870047158656355], [128.5796515008015, 35.87012889387297], [128.57971670360115, 35.87031211043361], [128.5793790076799, 35.87046735719561], [128.57953764487686, 35.87277308853002], [128.57954934424149, 35.87283071947707], [128.57957950138763, 35.87297923067011], [128.57971053685634, 35.87316412105774], [128.57999793213807, 35.873525269309646], [128.58011287528075, 35.87361597069433], [128.58021207206477, 35.87369423316664], [128.58210924962873, 35.8734089735031], [128.5823870485221, 35.87080589006498], [128.5826091747158, 35.870593742997976]]]]}, "properties": {"adm_nm": "중구 대신동", "color20": "rgb(184, 184, 255)", "rate20": 1953.17}}, {"type": "Feature", "geometry": {"type": "MultiPolygon", "coordinates": [[[[128.59346729283766, 35.866121405261], [128.59479889389266, 35.86429424099944], [128.5957472933539, 35.86157849277505], [128.59595246223435, 35.861025438005946], [128.5959644259569, 35.861000992969146], [128.5960699090724, 35.86078553792228], [128.59617103569286, 35.860579008337986], [128.59643612128934, 35.86006372692119], [128.59645346200725, 35.86003198419164], [128.59676539328953, 35.85946085808325], [128.5969268626459, 35.85910612431195], [128.59552932342203, 35.85854044435089], [128.59518872689443, 35.858480254592074], [128.59472570324195, 35.85841117396267], [128.59467331177078, 35.85657805456004], [128.5877853047037, 35.85674549545297], [128.59038154836585, 35.862036591939656], [128.59052434033154, 35.86198510756678], [128.5908375432381, 35.86188420725321], [128.59236929136836, 35.8613926693576], [128.5926931446457, 35.86128874452146], [128.5927396670197, 35.86142552037702], [128.59327201515217, 35.8630365297533], [128.59368783082604, 35.86499532200108], [128.5935409775957, 35.86533486215345], [128.59326549026687, 35.865394053593704], [128.59273876874718, 35.86541556373389], [128.59240878591362, 35.865469687178965], [128.59100795386004, 35.86571273467408], [128.59076193570348, 35.86575651099883], [128.59086183058736, 35.86610783552169], [128.59239056064428, 35.86629687447827], [128.59346729283766, 35.866121405261]]]]}, "properties": {"adm_nm": "중구 남산1동", "color20": "rgb(178, 178, 255)", "rate20": 2000.74}}, {"type": "Feature", "geometry": {"type": "MultiPolygon", "coordinates": [[[[128.59086183058736, 35.86610783552169], [128.59076193570348, 35.86575651099883], [128.59100795386004, 35.86571273467408], [128.59240878591362, 35.865469687178965], [128.59273876874718, 35.86541556373389], [128.59326549026687, 35.865394053593704], [128.5935409775957, 35.86533486215345], [128.59368783082604, 35.86499532200108], [128.59327201515217, 35.8630365297533], [128.5927396670197, 35.86142552037702], [128.5926931446457, 35.86128874452146], [128.59236929136836, 35.8613926693576], [128.5908375432381, 35.86188420725321], [128.59052434033154, 35.86198510756678], [128.59038154836585, 35.862036591939656], [128.58695604718596, 35.86337726236259], [128.5824900877616, 35.86220635712659], [128.58172166692066, 35.86476194105173], [128.58235034174163, 35.865146184030046], [128.58696338651328, 35.86638945191782], [128.58777033973809, 35.86664165794147], [128.58784730299269, 35.866665134608226], [128.5879320583128, 35.866649471419755], [128.58835962031208, 35.86657043329652], [128.5894635688341, 35.86636635045508], [128.59086183058736, 35.86610783552169]]]]}, "properties": {"adm_nm": "중구 남산2동", "color20": "rgb(156, 156, 255)", "rate20": 2171.17}}, {"type": "Feature", "geometry": {"type": "MultiPolygon", "coordinates": [[[[128.59038154836585, 35.862036591939656], [128.5877853047037, 35.85674549545297], [128.58423096814232, 35.85642871938986], [128.58285924279392, 35.856328027503956], [128.5824900877616, 35.86220635712659], [128.58695604718596, 35.86337726236259], [128.59038154836585, 35.862036591939656]]]]}, "properties": {"adm_nm": "중구 남산3동", "color20": "rgb(129, 129, 255)", "rate20": 2372.21}}, {"type": "Feature", "geometry": {"type": "MultiPolygon", "coordinates": [[[[128.5824900877616, 35.86220635712659], [128.58285924279392, 35.856328027503956], [128.5745839364292, 35.860057988189446], [128.57420447635695, 35.86268418532492], [128.58172166692066, 35.86476194105173], [128.5824900877616, 35.86220635712659]]]]}, "properties": {"adm_nm": "중구 남산4동", "color20": "rgb(179, 179, 255)", "rate20": 1997.1}}, {"type": "Feature", "geometry": {"type": "MultiPolygon", "coordinates": [[[[128.6096160692728, 35.86184188060294], [128.6091362333196, 35.86143239387278], [128.60898730401638, 35.861305286303285], [128.60844630322018, 35.859905339108806], [128.60838615761935, 35.859749688482935], [128.60822714214763, 35.85826187380285], [128.6081539703449, 35.857577144951634], [128.60846740347904, 35.85494815655783], [128.60244706937632, 35.85527302499215], [128.60097577360452, 35.85984520797235], [128.60073088698059, 35.860498153133385], [128.59999180678676, 35.86375392708425], [128.60029226446056, 35.863694250864825], [128.6096160692728, 35.86184188060294]]]]}, "properties": {"adm_nm": "중구 대봉1동", "color20": "rgb(213, 213, 255)", "rate20": 1737.18}}, {"type": "Feature", "geometry": {"type": "MultiPolygon", "coordinates": [[[[128.60244706937632, 35.85527302499215], [128.60004214536164, 35.85541223809458], [128.59874763512337, 35.85548716006152], [128.59853902409867, 35.85549923646253], [128.59840165327142, 35.85556219458421], [128.59820471882185, 35.855654709353544], [128.5979102694981, 35.85580446181453], [128.59787209503267, 35.85582387693629], [128.59763761289264, 35.85596498378273], [128.59750001349937, 35.85604778548522], [128.59707246144228, 35.85624349545263], [128.59692641453074, 35.856278885575875], [128.59689530993512, 35.85628642264913], [128.59662744369513, 35.856351329242436], [128.5959594973939, 35.85645109861886], [128.59588640067395, 35.856462013486635], [128.59471695268647, 35.8565734547216], [128.59467331177078, 35.85657805456004], [128.59472570324195, 35.85841117396267], [128.59518872689443, 35.858480254592074], [128.59552932342203, 35.85854044435089], [128.5969268626459, 35.85910612431195], [128.59676539328953, 35.85946085808325], [128.59645346200725, 35.86003198419164], [128.60073088698059, 35.860498153133385], [128.60097577360452, 35.85984520797235], [128.60244706937632, 35.85527302499215]]]]}, "properties": {"adm_nm": "중구 대봉2동", "color20": "rgb(176, 176, 255)", "rate20": 2019.7}}, {"type": "Feature", "geometry": {"type": "MultiPolygon", "coordinates": [[[[128.61474379396603, 35.86817787771339], [128.6145687241592, 35.86795873084202], [128.61317315398796, 35.86548347049956], [128.6025209366928, 35.867658484495436], [128.59981147034233, 35.86827404494616], [128.60136171435073, 35.87480494604066], [128.60150705186726, 35.87465128923932], [128.60347991538876, 35.874083541037066], [128.60445139526493, 35.873911879738515], [128.60584850128683, 35.8738463607326], [128.6061733915107, 35.87383112239123], [128.6075654595083, 35.874054841311576], [128.60968725744635, 35.8746309418859], [128.6103234899718, 35.874896028820494], [128.6120085185286, 35.873784622944164], [128.61474379396603, 35.86817787771339]]]]}, "properties": {"adm_nm": "중구 동인동", "color20": "rgb(184, 184, 255)", "rate20": 1959.53}}]};</script>
<script>const geo_compare = {"type": "FeatureCollection", "features": [{"type": "Feature", "geometry": {"type": "MultiPolygon", "coordinates": [[[[128.59981147034233, 35.86827404494616], [128.6025209366928, 35.867658484495436], [128.61317315398796, 35.86548347049956], [128.6096160692728, 35.86184188060294], [128.60029226446056, 35.863694250864825], [128.59999180678676, 35.86375392708425], [128.60005150168956, 35.86394988318623], [128.59967123354437, 35.86418386722333], [128.59866057509242, 35.864627857907784], [128.59778313443206, 35.864960098484836], [128.59772547439331, 35.86497984670333], [128.59754039248406, 35.86512029008691], [128.597186156744, 35.865389088431805], [128.5952997837392, 35.86716631857702], [128.5954390303595, 35.86834458433147], [128.59938819202057, 35.86835692344969], [128.5995697245268, 35.86832164626987], [128.59981147034233, 35.86827404494616]]]]}, "properties": {"adm_nm": "중구 삼덕동", "colorCompare": "rgb(209, 209, 255)", "rateCompare": 2.37}}, {"type": "Feature", "geometry": {"type": "MultiPolygon", "coordinates": [[[[128.60136171435073, 35.87480494604066], [128.59981147034233, 35.86827404494616], [128.5995697245268, 35.86832164626987], [128.59938819202057, 35.86835692344969], [128.5954390303595, 35.86834458433147], [128.5952997837392, 35.86716631857702], [128.597186156744, 35.865389088431805], [128.59754039248406, 35.86512029008691], [128.59772547439331, 35.86497984670333], [128.59778313443206, 35.864960098484836], [128.59866057509242, 35.864627857907784], [128.59967123354437, 35.86418386722333], [128.60005150168956, 35.86394988318623], [128.59999180678676, 35.86375392708425], [128.60073088698059, 35.860498153133385], [128.59645346200725, 35.86003198419164], [128.59643612128934, 35.86006372692119], [128.59617103569286, 35.860579008337986], [128.5960699090724, 35.86078553792228], [128.5959644259569, 35.861000992969146], [128.59595246223435, 35.861025438005946], [128.5957472933539, 35.86157849277505], [128.59479889389266, 35.86429424099944], [128.59346729283766, 35.866121405261], [128.59365520973202, 35.86990128973005], [128.59407497386147, 35.87205880405248], [128.59494637524298, 35.875297745352825], [128.5991411135269, 35.87546406962741], [128.60136171435073, 35.87480494604066]]]]}, "properties": {"adm_nm": "중구 성내1동", "colorCompare": "rgb(207, 207, 255)", "rateCompare": 2.45}}, {"type": "Feature", "geometry": {"type": "MultiPolygon", "coordinates": [[[[128.59494637524298, 35.875297745352825], [128.59407497386147, 35.87205880405248], [128.59365520973202, 35.86990128973005], [128.59346729283766, 35.866121405261], [128.59239056064428, 35.86629687447827], [128.59086183058736, 35.86610783552169], [128.5894635688341, 35.86636635045508], [128.58835962031208, 35.86657043329652], [128.5879320583128, 35.866649471419755], [128.58784730299269, 35.866665134608226], [128.58777033973809, 35.86664165794147], [128.58696338651328, 35.86638945191782], [128.58235034174163, 35.865146184030046], [128.5826091747158, 35.870593742997976], [128.58515530564048, 35.87052035050358], [128.58724705539385, 35.8700633844801], [128.58726199850804, 35.87018172537615], [128.5872734950472, 35.87027277651064], [128.58787391608374, 35.87567046374412], [128.58837879477232, 35.8775254076706], [128.59491665007616, 35.876309776132445], [128.59494637524298, 35.875297745352825]]]]}, "properties": {"adm_nm": "중구 성내2동", "colorCompare": "rgb(220, 220, 255)", "rateCompare": 1.76}}, {"type": "Feature", "geometry": {"type": "MultiPolygon", "coordinates": [[[[128.58017175330784, 35.87907855152338], [128.58837879477232, 35.8775254076706], [128.58787391608374, 35.87567046374412], [128.5872734950472, 35.87027277651064], [128.58726199850804, 35.87018172537615], [128.58724705539385, 35.8700633844801], [128.58515530564048, 35.87052035050358], [128.5826091747158, 35.870593742997976], [128.5823870485221, 35.87080589006498], [128.58210924962873, 35.8734089735031], [128.58021207206477, 35.87369423316664], [128.58011287528075, 35.87361597069433], [128.57999793213807, 35.873525269309646], [128.57971053685634, 35.87316412105774], [128.57957950138763, 35.87297923067011], [128.57954934424149, 35.87283071947707], [128.57953764487686, 35.87277308853002], [128.57937180589877, 35.872654532139904], [128.5792711103369, 35.872591133857405], [128.57891324748982, 35.87237796008176], [128.577928506664, 35.87204130850304], [128.57697441020116, 35.87196383673627], [128.57681124161078, 35.8719631376264], [128.57566174791862, 35.87304483127607], [128.57562564318513, 35.87309168427314], [128.57559141261393, 35.87343173680526], [128.57558754739932, 35.87347013834237], [128.57559607906484, 35.87404506724287], [128.57665285702345, 35.87605536016389], [128.57686465738666, 35.87622899484495], [128.57694023928968, 35.876187852358946], [128.57806019868906, 35.8755782780921], [128.57846664460521, 35.87535706432394], [128.5793056684623, 35.87532781665804], [128.57839059434426, 35.87623925001616], [128.57794370112424, 35.87949572893189], [128.58017175330784, 35.87907855152338]]]]}, "properties": {"adm_nm": "중구 성내3동", "colorCompare": "rgb(233, 233, 255)", "rateCompare": 1.13}}, {"type": "Feature", "geometry": {"type": "MultiPolygon", "coordinates": [[[[128.59346729283766, 35.866121405261], [128.59479889389266, 35.86429424099944], [128.5957472933539, 35.86157849277505], [128.59595246223435, 35.861025438005946], [128.5959644259569, 35.861000992969146], [128.5960699090724, 35.86078553792228], [128.59617103569286, 35.860579008337986], [128.59643612128934, 35.86006372692119], [128.59645346200725, 35.86003198419164], [128.59676539328953, 35.85946085808325], [128.5969268626459, 35.85910612431195], [128.59552932342203, 35.85854044435089], [128.59518872689443, 35.858480254592074], [128.59472570324195, 35.85841117396267], [128.59467331177078, 35.85657805456004], [128.5877853047037, 35.85674549545297], [128.59038154836585, 35.862036591939656], [128.59052434033154, 35.86198510756678], [128.5908375432381, 35.86188420725321], [128.59236929136836, 35.8613926693576], [128.5926931446457, 35.86128874452146], [128.5927396670197, 35.86142552037702], [128.59327201515217, 35.8630365297533], [128.59368783082604, 35.86499532200108], [128.5935409775957, 35.86533486215345], [128.59326549026687, 35.865394053593704], [128.59273876874718, 35.86541556373389], [128.59240878591362, 35.865469687178965], [128.59100795386004, 35.86571273467408], [128.59076193570348, 35.86575651099883], [128.59086183058736, 35.86610783552169], [128.59239056064428, 35.86629687447827], [128.59346729283766, 35.866121405261]]]]}, "properties": {"adm_nm": "중구 남산1동", "colorCompare": "rgb(222, 222, 255)", "rateCompare": 1.68}}, {"type": "Feature", "geometry": {"type": "MultiPolygon", "coordinates": [[[[128.59086183058736, 35.86610783552169], [128.59076193570348, 35.86575651099883], [128.59100795386004, 35.86571273467408], [128.59240878591362, 35.865469687178965], [128.59273876874718, 35.86541556373389], [128.59326549026687, 35.865394053593704], [128.5935409775957, 35.86533486215345], [128.59368783082604, 35.86499532200108], [128.59327201515217, 35.8630365297533], [128.5927396670197, 35.86142552037702], [128.5926931446457, 35.86128874452146], [128.59236929136836, 35.8613926693576], [128.5908375432381, 35.86188420725321], [128.59052434033154, 35.86198510756678], [128.59038154836585, 35.862036591939656], [128.58695604718596, 35.86337726236259], [128.5824900877616, 35.86220635712659], [128.58172166692066, 35.86476194105173], [128.58235034174163, 35.865146184030046], [128.58696338651328, 35.86638945191782], [128.58777033973809, 35.86664165794147], [128.58784730299269, 35.866665134608226], [128.5879320583128, 35.866649471419755], [128.58835962031208, 35.86657043329652], [128.5894635688341, 35.86636635045508], [128.59086183058736, 35.86610783552169]]]]}, "properties": {"adm_nm": "중구 남산2동", "colorCompare": "rgb(214, 214, 255)", "rateCompare": 2.07}}, {"type": "Feature", "geometry": {"type": "MultiPolygon", "coordinates": [[[[128.59038154836585, 35.862036591939656], [128.5877853047037, 35.85674549545297], [128.58423096814232, 35.85642871938986], [128.58285924279392, 35.856328027503956], [128.5824900877616, 35.86220635712659], [128.58695604718596, 35.86337726236259], [128.59038154836585, 35.862036591939656]]]]}, "properties": {"adm_nm": "중구 남산3동", "colorCompare": "rgb(189, 189, 255)", "rateCompare": 3.39}}, {"type": "Feature", "geometry": {"type": "MultiPolygon", "coordinates": [[[[128.5824900877616, 35.86220635712659], [128.58285924279392, 35.856328027503956], [128.5745839364292, 35.860057988189446], [128.57420447635695, 35.86268418532492], [128.58172166692066, 35.86476194105173], [128.5824900877616, 35.86220635712659]]]]}, "properties": {"adm_nm": "중구 남산4동", "colorCompare": "rgb(169, 169, 255)", "rateCompare": 4.42}}, {"type": "Feature", "geometry": {"type": "MultiPolygon", "coordinates": [[[[128.60244706937632, 35.85527302499215], [128.60004214536164, 35.85541223809458], [128.59874763512337, 35.85548716006152], [128.59853902409867, 35.85549923646253], [128.59840165327142, 35.85556219458421], [128.59820471882185, 35.855654709353544], [128.5979102694981, 35.85580446181453], [128.59787209503267, 35.85582387693629], [128.59763761289264, 35.85596498378273], [128.59750001349937, 35.85604778548522], [128.59707246144228, 35.85624349545263], [128.59692641453074, 35.856278885575875], [128.59689530993512, 35.85628642264913], [128.59662744369513, 35.856351329242436], [128.5959594973939, 35.85645109861886], [128.59588640067395, 35.856462013486635], [128.59471695268647, 35.8565734547216], [128.59467331177078, 35.85657805456004], [128.59472570324195, 35.85841117396267], [128.59518872689443, 35.858480254592074], [128.59552932342203, 35.85854044435089], [128.5969268626459, 35.85910612431195], [128.59676539328953, 35.85946085808325], [128.59645346200725, 35.86003198419164], [128.60073088698059, 35.860498153133385], [128.60097577360452, 35.85984520797235], [128.60244706937632, 35.85527302499215]]]]}, "properties": {"adm_nm": "중구 대봉2동", "colorCompare": "rgb(220, 220, 255)", "rateCompare": 1.8}}]};</script>
<script>const ranking_19 = [{"name": "중구 삼덕동  ", "rate": 26.7, "color": "rgb(50, 50, 255)"}, {"name": "중구 남산3동  ", "rate": 24.1, "color": "rgb(89, 89, 255)"}, {"name": "중구 성내1동  ", "rate": 23.24, "color": "rgb(101, 101, 255)"}, {"name": "중구 대신동  ", "rate": 21.85, "color": "rgb(122, 122, 255)"}, {"name": "중구 남산1동  ", "rate": 20.33, "color": "rgb(144, 144, 255)"}, {"name": "중구 대봉1동  ", "rate": 20.22, "color": "rgb(146, 146, 255)"}, {"name": "중구 남산4동  ", "rate": 19.64, "color": "rgb(155, 155, 255)"}, {"name": "중구 동인동  ", "rate": 19.39, "color": "rgb(158, 158, 255)"}, {"name": "중구 성내2동  ", "rate": 18.44, "color": "rgb(172, 172, 255)"}, {"name": "중구 대봉2동  ", "rate": 18.4, "color": "rgb(173, 173, 255)"}, {"name": "중구 남산2동  ", "rate": 18.33, "color": "rgb(174, 174, 255)"}, {"name": "중구 성내3동  ", "rate": 15.55, "color": "rgb(215, 215, 255)"}];</script>
<script>const ranking_20 = [{"name": "중구 삼덕동  ", "rate": 24.22, "color": "rgb(123, 123, 255)"}, {"name": "중구 남산3동  ", "rate": 23.72, "color": "rgb(129, 129, 255)"}, {"name": "중구 성내1동  ", "rate": 22.67, "color": "rgb(143, 143, 255)"}, {"name": "중구 남산2동  ", "rate": 21.71, "color": "rgb(156, 156, 255)"}, {"name": "중구 성내3동  ", "rate": 20.52, "color": "rgb(171, 171, 255)"}, {"name": "중구 성내2동  ", "rate": 20.2, "color": "rgb(176, 176, 255)"}, {"name": "중구 대봉2동  ", "rate": 20.2, "color": "rgb(176, 176, 255)"}, {"name": "중구 남산1동  ", "rate": 20.01, "color": "rgb(178, 178, 255)"}, {"name": "중구 남산4동  ", "rate": 19.97, "color": "rgb(179, 179, 255)"}, {"name": "중구 동인동  ", "rate": 19.6, "color": "rgb(184, 184, 255)"}, {"name": "중구 대신동  ", "rate": 19.53, "color": "rgb(184, 184, 255)"}, {"name": "중구 대봉1동  ", "rate": 17.37, "color": "rgb(213, 213, 255)"}];</script>
<script>const ranking_compare = [{"name": "중구 삼덕동  ", "rate": 2.37, "color": "rgb(209, 209, 255)"}, {"name": "중구 남산3동  ", "rate": 3.39, "color": "rgb(189, 189, 255)"}, {"name": "중구 성내1동  ", "rate": 2.45, "color": "rgb(207, 207, 255)"}, {"name": "중구 남산2동  ", "rate": 2.07, "color": "rgb(214, 214, 255)"}, {"name": "중구 성내3동  ", "rate": 1.13, "color": "rgb(233, 233, 255)"}, {"name": "중구 성내2동  ", "rate": 1.76, "color": "rgb(220, 220, 255)"}, {"name": "중구 대봉2동  ", "rate": 1.8, "color": "rgb(220, 220, 255)"}, {"name": "중구 남산1동  ", "rate": 1.68, "color": "rgb(222, 222, 255)"}, {"name": "중구 남산4동  ", "rate": 4.42, "color": "rgb(169, 169, 255)"}];</script>

<script>
let map = L.map('map').setView([35.8714, 128.6014], 11);
L.tileLayer('https://tile.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
  maxZoom: 18,
  attribution: '© OpenStreetMap, © CartoDB'
}).addTo(map);

let geoLayer;

function showMap(view) {
  if (geoLayer) map.removeLayer(geoLayer);
  const geoData = view === '19' ? geo_19 : view === '20' ? geo_20 : geo_compare;
  geoLayer = L.geoJSON(geoData, {
    style: f => {
      const key = view === '19' ? 'color19' : view === '20' ? 'color20' : 'compareColor';
      return {
        color: '#888',
        weight: 1,
        fillColor: f.properties[key] || '#ccc',
        fillOpacity: 0.85
      };
    },
    onEachFeature: (f, layer) => {
      const name = f.properties.adm_nm;
      let rate = f.properties['rate' + view] ?? f.properties['rateCompare'];
              if(view==='20') rate = rate / 100;
              layer.bindTooltip(`${name}<br>${rate.toFixed(2)}%`);
      layer.bindTooltip(`${name}<br>${rate}%`);
    }
  }).addTo(map);

  const rows = view === '19' ? ranking_19 : view === '20' ? ranking_20 : ranking_compare;
  const tbody = document.getElementById('ranking-body');
  tbody.innerHTML = '';
  rows.forEach((r, i) => {
    const tr = document.createElement('tr');
    tr.style.backgroundColor = r.color;
    const [r_, g, b] = r.color.match(/\d+/g).map(Number);
    const lum = 0.299 * r_ + 0.587 * g + 0.114 * b;
    tr.style.color = lum < 160 ? '#fff' : '#000';
    let displayRate = r.rate.toFixed(2);
tr.innerHTML = `<td>${i + 1}</td><td>${r.name}</td><td>${displayRate}%</td>`;
    tbody.appendChild(tr);
  });

  // 탭 스타일 반영
  document.querySelectorAll(".maptab button").forEach(b => b.classList.remove("on"));
  document.querySelector(".maptab button[data-view='" + view + "']").classList.add("on");
}

</script>

<script>map.fitBounds([[35.85494815655783, 128.57380307624703], [35.87949572893189, 128.61474379396603]]);</script>
  <script>
    let map = L.map('map').setView([35.8714, 128.6014], 11);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 18,
      attribution: '© OpenStreetMap contributors'
    }).addTo(map);

    let geoLayer;
    function showMap(view) {
      if (geoLayer) map.removeLayer(geoLayer);
      fetch("data/geo_" + view + "_junggu.json")
        .then(res => res.json())
        .then(data => {
          geoLayer = L.geoJSON(data, {
            style: f => {
              const key = view === '19' ? 'color19' : view === '20' ? 'color20' : 'compareColor';
              return {
                color: '#888',
                weight: 1,
                fillColor: f.properties[key] || '#ccc',
                fillOpacity: 0.85
              };
            },
            onEachFeature: (f, layer) => {
              const name = f.properties.adm_nm;
              let rate = f.properties['rate' + view] ?? f.properties['rateCompare'];
              if(view==='20') rate = rate / 100;
              layer.bindTooltip(`${name}<br>${rate.toFixed(2)}%`);
              layer.bindTooltip(`${name}<br>${rate}%`);
            }
          }).addTo(map);
        });

      fetch("data/ranking_" + view + "_junggu.json")
        .then(res => res.json())
        .then(rows => {
          const tbody = document.getElementById('ranking-body');
          tbody.innerHTML = '';
          rows.forEach((r, i) => {
            const tr = document.createElement('tr');
            tr.style.backgroundColor = r.color;
            const [r_, g, b] = r.color.match(/\d+/g).map(Number);
            const lum = 0.299 * r_ + 0.587 * g + 0.114 * b;
            tr.style.color = lum < 160 ? '#fff' : '#000';
            tr.innerHTML = `<td>${i+1}</td><td>${r.name}</td><td>${r.rate}%</td>`;
            tbody.appendChild(tr);
          });
        });
    }

    showMap('20');
  </script>
<script>document.addEventListener('DOMContentLoaded',()=>showMap('20'));</script>
<script>
// 비교 탭에서 지도 색상 동기화
document.addEventListener('DOMContentLoaded', () => {
  const compareBtn = document.querySelector("[onclick=\"showMap('compare')\"]");
  if(compareBtn) {
    compareBtn.addEventListener('click', () => {
      if(window.geojson) {
        window.geojson.eachLayer(layer => {
          const props = layer.feature.properties;
          const color = getColor(props.rateCompare);
          layer.setStyle({ fillColor: color, fillOpacity: 0.7, color: '#fff' });
        });
      }
    });
  }
});
</script>

</body>
</html>
